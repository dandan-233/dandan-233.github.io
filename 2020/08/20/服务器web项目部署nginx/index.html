<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>服务器部署文档 及ssh登录- windows | 笔记</title>
    <meta name="generator" content="VuePress 1.5.3">
    <link rel="icon" href="/bitbug_favicon.png">
    <meta name="description" content="服务器
centOS6.9
服务器操作
使用工具
   Xshell 6 连接服务器，Xftp 6 本地文件上传服务器（快捷入口（标准按钮，和 Xshell 图标一起的绿色图标，点击打开 Xftp），上传文件注意当前服务器文件夹所在目录）
连接服务器
nginx
安装nginx
   `bash
   y ...">
    <link rel="preload" href="/assets/css/0.styles.8b754e36.css" as="style"><link rel="preload" href="/assets/js/app.bb4c6b11.js" as="script"><link rel="preload" href="/assets/js/7.730b509b.js" as="script"><link rel="preload" href="/assets/js/3.59567c86.js" as="script"><link rel="preload" href="/assets/js/32.a63c81ed.js" as="script"><link rel="prefetch" href="/assets/js/10.cfa21fb5.js"><link rel="prefetch" href="/assets/js/11.f16cb27d.js"><link rel="prefetch" href="/assets/js/12.14906792.js"><link rel="prefetch" href="/assets/js/13.ab68cf40.js"><link rel="prefetch" href="/assets/js/14.6de3c66b.js"><link rel="prefetch" href="/assets/js/15.e21503d6.js"><link rel="prefetch" href="/assets/js/16.7b758b1a.js"><link rel="prefetch" href="/assets/js/17.73b95630.js"><link rel="prefetch" href="/assets/js/18.78035e32.js"><link rel="prefetch" href="/assets/js/19.d869ae14.js"><link rel="prefetch" href="/assets/js/20.d34050bd.js"><link rel="prefetch" href="/assets/js/21.140dc373.js"><link rel="prefetch" href="/assets/js/22.7d7593fb.js"><link rel="prefetch" href="/assets/js/23.779ca185.js"><link rel="prefetch" href="/assets/js/24.df37a379.js"><link rel="prefetch" href="/assets/js/25.b4e22bbf.js"><link rel="prefetch" href="/assets/js/26.b1364871.js"><link rel="prefetch" href="/assets/js/27.1ae3a3db.js"><link rel="prefetch" href="/assets/js/28.8568ff96.js"><link rel="prefetch" href="/assets/js/29.9447db08.js"><link rel="prefetch" href="/assets/js/30.7e0c5ae9.js"><link rel="prefetch" href="/assets/js/31.0864c1f4.js"><link rel="prefetch" href="/assets/js/33.930bbe66.js"><link rel="prefetch" href="/assets/js/34.387e5c2f.js"><link rel="prefetch" href="/assets/js/4.88bdc678.js"><link rel="prefetch" href="/assets/js/5.94a57f34.js"><link rel="prefetch" href="/assets/js/6.4e7e9c69.js"><link rel="prefetch" href="/assets/js/8.e400c21b.js"><link rel="prefetch" href="/assets/js/9.8eb00829.js"><link rel="prefetch" href="/assets/js/vuejs-paginate.636421e2.js">
    <link rel="stylesheet" href="/assets/css/0.styles.8b754e36.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/" class="nav-link home-link">笔记 </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/" class="nav-link">Blog</a></li><li class="nav-item"><a href="/tag/" class="nav-link">Tags</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/" class="nav-link mobile-home-link">笔记 </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/" class="nav-link">Blog</a></li><li class="mobile-nav-item"><a href="/tag/" class="nav-link">Tags</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">pengpeng</span> <span itemprop="address">   in Beijing</span></div> <!----> <!----></div></header> <div itemprop="articleBody" class="content__default"><h1 id="服务器部署文档-及ssh登录-windows"><a href="#服务器部署文档-及ssh登录-windows" class="header-anchor">#</a> 服务器部署文档 及ssh登录- windows</h1> <h2 id="服务器"><a href="#服务器" class="header-anchor">#</a> 服务器</h2> <p>centOS6.9</p> <h3 id="服务器操作"><a href="#服务器操作" class="header-anchor">#</a> 服务器操作</h3> <ol><li>使用工具
Xshell 6 连接服务器，Xftp 6 本地文件上传服务器（快捷入口（标准按钮，和 Xshell 图标一起的绿色图标，点击打开 Xftp），上传文件注意当前服务器文件夹所在目录）</li> <li>连接服务器</li></ol> <h3 id="nginx"><a href="#nginx" class="header-anchor">#</a> nginx</h3> <ol><li><p>安装nginx</p> <div class="language-bash extra-class"><pre class="language-bash"><code>yum <span class="token function">install</span> nginx
<span class="token comment">#查看版本</span>
nginx -v
</code></pre></div><div style="color:red;">安装 nginx 报错 信息: No package nginx available.</div>
解决: 添加EPEL软件源,再安装
操作命令步骤:
<ul><li>yum clean all</li> <li>yum remove epel-release</li> <li>yum update</li> <li>yum install epel-release</li> <li>yum install nginx -y</li></ul></li> <li><p>查看nginx 安装目录</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">rpm</span> -ql nginx
<span class="token comment">#文件目录</span>
/etc/logrotate.d/nginx
/etc/nginx
/etc/nginx/conf.d
/etc/nginx/conf.d/default.conf
/etc/nginx/fastcgi_params
/etc/nginx/koi-utf
/etc/nginx/koi-win
/etc/nginx/mime.types
/etc/nginx/modules
/etc/nginx/nginx.conf
/etc/nginx/scgi_params
/etc/nginx/uwsgi_params
/etc/nginx/win-utf
/etc/sysconfig/nginx
/etc/sysconfig/nginx-debug
/usr/lib/systemd/system/nginx-debug.service
/usr/lib/systemd/system/nginx.service
/usr/lib64/nginx
/usr/lib64/nginx/modules
/usr/libexec/initscripts/legacy-actions/nginx
/usr/libexec/initscripts/legacy-actions/nginx/check-reload
/usr/libexec/initscripts/legacy-actions/nginx/upgrade
/usr/sbin/nginx
/usr/sbin/nginx-debug
/usr/share/doc/nginx-1.16.1
/usr/share/doc/nginx-1.16.1/COPYRIGHT
/usr/share/man/man8/nginx.8.gz
/usr/share/nginx
/usr/share/nginx/html
/usr/share/nginx/html/50x.html
/usr/share/nginx/html/index.html
/var/cache/nginx
/var/log/nginx
</code></pre></div></li> <li><p>nginx配置文件</p> <div class="language-wiki extra-class"><pre class="language-wiki"><code>/etc/nginx/conf.d/default.conf
/etc/nginx/nginx.conf
</code></pre></div></li> <li><p>使用的基本命令
<span style="color:red;"> nginx 启动报错:
nginx: [emerg] socket() [::]:80 failed (97: Address family not supported by protocol) </span></p> <p>解决:
vim  /etc/nginx/conf.d/default.conf
注释掉  #listen       [::]:80 default_server;</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token comment">#nginx 命令</span>
nginx  <span class="token comment">#启动服务器</span>
nginx -s quit <span class="token comment">#停止服务器</span>
nginx -s reload <span class="token comment">#重启服务器</span>
<span class="token function">ps</span> -ef <span class="token operator">|</span> <span class="token function">grep</span> nginx <span class="token comment">#查询启动的nginx进程</span>
<span class="token function">kill</span> -QUIT 进程id <span class="token comment">#从容停止进程</span>
<span class="token function">kill</span> -<span class="token environment constant">TERM</span> 进程id <span class="token comment">#快速停止进程</span>
<span class="token function">kill</span> -9 进程id <span class="token comment">#强制停止进程</span>
<span class="token function">netstat</span> -tunlp <span class="token comment">#产看启用端口</span>
<span class="token function">fuser</span> -n tcp 端口号  <span class="token comment">#查看端口占用</span>
<span class="token function">kill</span> -9 端口号 <span class="token comment">#结束端口占用</span>

<span class="token comment">#文件查看编辑</span>
<span class="token function">tail</span> -f access.log <span class="token comment"># 服务器查看访问日志</span>
<span class="token builtin class-name">cd</span> /   <span class="token comment">#直接到顶层 / 目录下</span>
<span class="token builtin class-name">cd</span> <span class="token punctuation">..</span>  <span class="token comment">#返回上一层目录</span>
<span class="token builtin class-name">cd</span> 文件夹名称 <span class="token comment">#进入到文件夹名目录下</span>
<span class="token function">rm</span> -rf 文件夹
<span class="token function">rm</span> -f 文件
<span class="token function">ls</span>     <span class="token comment">#查看当前目录下的所有文件，文件夹</span>
<span class="token function">cat</span> 文件名 <span class="token comment">#查看文件内容</span>
<span class="token function">sudo</span> <span class="token function">su</span> - <span class="token comment">#切换 root账户</span>
<span class="token comment"># Permission denied 没权限</span>
<span class="token function">ls</span> -l <span class="token comment">#查看当前目录下文件的权限</span>
<span class="token function">chown</span> -R admin  /usr/local/soft/ <span class="token comment">#修改文件夹拥有组为admin（xftp传输文件报错问题）</span>

<span class="token function">vim</span> 文件名 <span class="token comment">#编辑文件</span>
<span class="token comment">#进入编辑模式</span>
<span class="token comment">#按 i 开始编辑，上下左右减调整指针位置，</span>
<span class="token comment">#按 esc 退出编辑模式</span>
<span class="token comment">#输入 :q 不保存退出 :wq 保存退出</span>
</code></pre></div></li></ol> <h3 id="ssh服务器登录"><a href="#ssh服务器登录" class="header-anchor">#</a> ssh服务器登录</h3> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token number">1</span>.使用xshell在本地生成秘钥
    id_rsa	私钥
    id_rsa.pub  公钥
<span class="token number">2</span>.服务器sshd配置文件 /etc/ssh/sshd_config
<span class="token number">3</span>.配置选项<span class="token punctuation">(</span>一般为去掉注释<span class="token punctuation">)</span>
    <span class="token comment"># 将以下这项去掉注释并改为yes，以启用密钥验证</span>
    PubkeyAuthentication <span class="token function">yes</span>
	<span class="token comment"># 指定公钥数据库文件</span>
	AuthorsizedKeysFile .ssh/authorized_keys
<span class="token number">4</span>.在服务器~/下创建 .ssh文件夹
	直接打开xftp 创建
<span class="token number">5</span>.将本地的公钥复制到服务器.ssh目录下并且改名为 authorized_keys
	本地文件目录 C:<span class="token punctuation">\</span>Users<span class="token punctuation">\</span>Admin<span class="token punctuation">\</span>.ssh
<span class="token number">6</span>.重启ssh
	<span class="token comment">#ubuntu系统</span>
    <span class="token function">service</span> <span class="token function">ssh</span> restart

    <span class="token comment">#debian系统</span>
    /etc/init.d/ssh restart

    <span class="token comment"># CentOS 使用以下命令</span>
    systemctl restart sshd.service
        <span class="token comment"># systemctl: command not found</span>
        <span class="token comment"># 使用</span>
        <span class="token function">service</span> sshd restart

<span class="token number">7</span>.使用ssh登录
</code></pre></div><h3 id="访问报错"><a href="#访问报错" class="header-anchor">#</a> 访问报错</h3> <ol><li>403 Forbidden错误记录</li></ol> <div class="language- extra-class"><pre class="language-text"><code>先检查当前访问服务器静态资源路径下,有没有相应的静态文件,静态文件目录(usr/share/nginx/html)
</code></pre></div></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#服务器" title="服务器">服务器</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#服务器操作" title="服务器操作">服务器操作</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#nginx" title="nginx">nginx</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ssh服务器登录" title="ssh服务器登录">ssh服务器登录</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#访问报错" title="访问报错">访问报错</a></div></div></div></div> <footer class="footer" data-v-fdbf4940><div class="footer-left-wrap" data-v-fdbf4940><ul class="contact" data-v-fdbf4940><li class="contact-item" data-v-fdbf4940><a href="https://github.com/yunpengGit" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-fdbf4940><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-fdbf4940></path></svg>
          
        </a></li><li class="contact-item" data-v-fdbf4940><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-fdbf4940><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-fdbf4940></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-fdbf4940><ul class="copyright" data-v-fdbf4940><li class="copyright-item" data-v-fdbf4940><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-fdbf4940>Privacy Policy</a></li><li class="copyright-item" data-v-fdbf4940><a href="/2020/08/20/%E6%9C%8D%E5%8A%A1%E5%99%A8web%E9%A1%B9%E7%9B%AE%E9%83%A8%E7%BD%B2nginx/.html" class="nav-link" data-v-fdbf4940>MIT Licensed | Copyright © 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.bb4c6b11.js" defer></script><script src="/assets/js/7.730b509b.js" defer></script><script src="/assets/js/3.59567c86.js" defer></script><script src="/assets/js/32.a63c81ed.js" defer></script>
  </body>
</html>
