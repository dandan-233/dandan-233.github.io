(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{423:function(n,s,t){"use strict";t.r(s);var a=t(9),e=Object(a.a)({},(function(){var n=this,s=n.$createElement,t=n._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[t("h1",{attrs:{id:"服务器部署文档-及ssh登录-windows"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器部署文档-及ssh登录-windows"}},[n._v("#")]),n._v(" 服务器部署文档 及ssh登录- windows")]),n._v(" "),t("h2",{attrs:{id:"服务器"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器"}},[n._v("#")]),n._v(" 服务器")]),n._v(" "),t("p",[n._v("centOS6.9")]),n._v(" "),t("h3",{attrs:{id:"服务器操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#服务器操作"}},[n._v("#")]),n._v(" 服务器操作")]),n._v(" "),t("ol",[t("li",[n._v("使用工具\nXshell 6 连接服务器，Xftp 6 本地文件上传服务器（快捷入口（标准按钮，和 Xshell 图标一起的绿色图标，点击打开 Xftp），上传文件注意当前服务器文件夹所在目录）")]),n._v(" "),t("li",[n._v("连接服务器")])]),n._v(" "),t("h3",{attrs:{id:"nginx"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#nginx"}},[n._v("#")]),n._v(" nginx")]),n._v(" "),t("ol",[t("li",[t("p",[n._v("安装nginx")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[n._v("yum "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("install")]),n._v(" nginx\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#查看版本")]),n._v("\nnginx -v\n")])])]),t("div",{staticStyle:{color:"red"}},[n._v("安装 nginx 报错 信息: No package nginx available.")]),n._v("\n解决: 添加EPEL软件源,再安装\n操作命令步骤:\n"),t("ul",[t("li",[n._v("yum clean all")]),n._v(" "),t("li",[n._v("yum remove epel-release")]),n._v(" "),t("li",[n._v("yum update")]),n._v(" "),t("li",[n._v("yum install epel-release")]),n._v(" "),t("li",[n._v("yum install nginx -y")])])]),n._v(" "),t("li",[t("p",[n._v("查看nginx 安装目录")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[n._v("rpm")]),n._v(" -ql nginx\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#文件目录")]),n._v("\n/etc/logrotate.d/nginx\n/etc/nginx\n/etc/nginx/conf.d\n/etc/nginx/conf.d/default.conf\n/etc/nginx/fastcgi_params\n/etc/nginx/koi-utf\n/etc/nginx/koi-win\n/etc/nginx/mime.types\n/etc/nginx/modules\n/etc/nginx/nginx.conf\n/etc/nginx/scgi_params\n/etc/nginx/uwsgi_params\n/etc/nginx/win-utf\n/etc/sysconfig/nginx\n/etc/sysconfig/nginx-debug\n/usr/lib/systemd/system/nginx-debug.service\n/usr/lib/systemd/system/nginx.service\n/usr/lib64/nginx\n/usr/lib64/nginx/modules\n/usr/libexec/initscripts/legacy-actions/nginx\n/usr/libexec/initscripts/legacy-actions/nginx/check-reload\n/usr/libexec/initscripts/legacy-actions/nginx/upgrade\n/usr/sbin/nginx\n/usr/sbin/nginx-debug\n/usr/share/doc/nginx-1.16.1\n/usr/share/doc/nginx-1.16.1/COPYRIGHT\n/usr/share/man/man8/nginx.8.gz\n/usr/share/nginx\n/usr/share/nginx/html\n/usr/share/nginx/html/50x.html\n/usr/share/nginx/html/index.html\n/var/cache/nginx\n/var/log/nginx\n")])])])]),n._v(" "),t("li",[t("p",[n._v("nginx配置文件")]),n._v(" "),t("div",{staticClass:"language-wiki extra-class"},[t("pre",{pre:!0,attrs:{class:"language-wiki"}},[t("code",[n._v("/etc/nginx/conf.d/default.conf\n/etc/nginx/nginx.conf\n")])])])]),n._v(" "),t("li",[t("p",[n._v("使用的基本命令\n"),t("span",{staticStyle:{color:"red"}},[n._v(" nginx 启动报错:\nnginx: [emerg] socket() [::]:80 failed (97: Address family not supported by protocol) ")])]),n._v(" "),t("p",[n._v("解决:\nvim  /etc/nginx/conf.d/default.conf\n注释掉  #listen       [::]:80 default_server;")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#nginx 命令")]),n._v("\nnginx  "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#启动服务器")]),n._v("\nnginx -s quit "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#停止服务器")]),n._v("\nnginx -s reload "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#重启服务器")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ps")]),n._v(" -ef "),t("span",{pre:!0,attrs:{class:"token operator"}},[n._v("|")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("grep")]),n._v(" nginx "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#查询启动的nginx进程")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("kill")]),n._v(" -QUIT 进程id "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#从容停止进程")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("kill")]),n._v(" -"),t("span",{pre:!0,attrs:{class:"token environment constant"}},[n._v("TERM")]),n._v(" 进程id "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#快速停止进程")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("kill")]),n._v(" -9 进程id "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#强制停止进程")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("netstat")]),n._v(" -tunlp "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#产看启用端口")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("fuser")]),n._v(" -n tcp 端口号  "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#查看端口占用")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("kill")]),n._v(" -9 端口号 "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#结束端口占用")]),n._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#文件查看编辑")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("tail")]),n._v(" -f access.log "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 服务器查看访问日志")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" /   "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#直接到顶层 / 目录下")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("..")]),n._v("  "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#返回上一层目录")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[n._v("cd")]),n._v(" 文件夹名称 "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#进入到文件夹名目录下")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("rm")]),n._v(" -rf 文件夹\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("rm")]),n._v(" -f 文件\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ls")]),n._v("     "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#查看当前目录下的所有文件，文件夹")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("cat")]),n._v(" 文件名 "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#查看文件内容")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("sudo")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("su")]),n._v(" - "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#切换 root账户")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# Permission denied 没权限")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ls")]),n._v(" -l "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#查看当前目录下文件的权限")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("chown")]),n._v(" -R admin  /usr/local/soft/ "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#修改文件夹拥有组为admin（xftp传输文件报错问题）")]),n._v("\n\n"),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("vim")]),n._v(" 文件名 "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#编辑文件")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#进入编辑模式")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#按 i 开始编辑，上下左右减调整指针位置，")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#按 esc 退出编辑模式")]),n._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#输入 :q 不保存退出 :wq 保存退出")]),n._v("\n")])])])])]),n._v(" "),t("h3",{attrs:{id:"ssh服务器登录"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ssh服务器登录"}},[n._v("#")]),n._v(" ssh服务器登录")]),n._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token number"}},[n._v("1")]),n._v(".使用xshell在本地生成秘钥\n    id_rsa\t私钥\n    id_rsa.pub  公钥\n"),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("2")]),n._v(".服务器sshd配置文件 /etc/ssh/sshd_config\n"),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("3")]),n._v(".配置选项"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),n._v("一般为去掉注释"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v("\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 将以下这项去掉注释并改为yes，以启用密钥验证")]),n._v("\n    PubkeyAuthentication "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("yes")]),n._v("\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 指定公钥数据库文件")]),n._v("\n\tAuthorsizedKeysFile .ssh/authorized_keys\n"),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("4")]),n._v(".在服务器~/下创建 .ssh文件夹\n\t直接打开xftp 创建\n"),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("5")]),n._v(".将本地的公钥复制到服务器.ssh目录下并且改名为 authorized_keys\n\t本地文件目录 C:"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("Users"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v("Admin"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("\\")]),n._v(".ssh\n"),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("6")]),n._v(".重启ssh\n\t"),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#ubuntu系统")]),n._v("\n    "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("service")]),n._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("ssh")]),n._v(" restart\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("#debian系统")]),n._v("\n    /etc/init.d/ssh restart\n\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# CentOS 使用以下命令")]),n._v("\n    systemctl restart sshd.service\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# systemctl: command not found")]),n._v("\n        "),t("span",{pre:!0,attrs:{class:"token comment"}},[n._v("# 使用")]),n._v("\n        "),t("span",{pre:!0,attrs:{class:"token function"}},[n._v("service")]),n._v(" sshd restart\n\n"),t("span",{pre:!0,attrs:{class:"token number"}},[n._v("7")]),n._v(".使用ssh登录\n")])])]),t("h3",{attrs:{id:"访问报错"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#访问报错"}},[n._v("#")]),n._v(" 访问报错")]),n._v(" "),t("ol",[t("li",[n._v("403 Forbidden错误记录")])]),n._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[n._v("先检查当前访问服务器静态资源路径下,有没有相应的静态文件,静态文件目录(usr/share/nginx/html)\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);